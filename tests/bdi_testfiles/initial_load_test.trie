.count!0

.bdi.greet:
    #propose
    
    .count!$x(< 10)?

    $x + 2 -> $y
    ~{} "Hello: {x}" -> $z
    
    @($z)
    +(.count!$y)
end

.bdi.goodbye:
    #propose
    
    .count!$x(< 10)?

    $x + 1 -> $y
    ~{} "Goodbye: {x}" -> $z

    @($z)
    +(.count!$y)
end

.bdi.finish:
    #propose
    
    .agent.$name?
    .count!$x(> 9)?

    ~{} "{name} has finished" -> $string
    
    @($string)
    +(.agent.$name.state.finished)
end
